<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312"/>

    <link href="lib/bootstrap-3.0.3/css/bootstrap.min.css" rel="stylesheet"/>

    <script src="lib/jquery-2.0.3.min.js"></script>
    <script src="lib/jquery.easing.min.js"></script>
    <script src="lib/jquery.json-2.4.min.js"></script>
    <script src="lib/underscore-min.js"></script>
    <script src="lib/juicer-min.js"></script>
    <script src="lib/bootstrap-3.0.3/js/bootstrap.min.js"></script>

    <style>
        [class*="bg-"] {
            width: 15px;
            height: 15px;
            opacity: 0.7;
            position: relative;
            margin-top: 5px;
        }

        .bg-red {
            background-color: red;
        }
    </style>

    <script type="text/javascript">
        $(document).ready(function () {

            var getEasingList = function () {
                var easingList = [];
                var pairs = _.pairs($.easing);
                for (var i = 0; i < pairs.length; i++) {
                    var keyValuePair = pairs[i];
                    var key = keyValuePair[0];
                    var value = keyValuePair[1];
                    if ($.isFunction(value)) {
                        easingList.push(key);
                    }
                }
                return easingList;
            };

            var getHtmlTemplate = function () {
                var $container = $('#block-container');
                var html = $container.html();
                return html;
            };
            var easingList = getEasingList();
            var htmlTemplate = getHtmlTemplate();

            var html = juicer(htmlTemplate, easingList);
            $('#block-container').html(html);

            $(document).on('click', '#btn-start', function () {
                $('.bg-red').css('left', 0);

                $('.bg-red').each(function () {
                    var $block = $(this);
                    var easing = $block.attr('easing');

                    $block.animate(
                            {
                                "left": 800
                            },
                            {
                                duration: 3000,
                                easing: easing,
                                complete: function () {

                                }
                            }
                    );
                });


            });

            $(document).on('click', '#btn-stop', function () {
                $('.bg-red').each(function () {
                    var $block = $(this);
                    $block.stop();
                });
            });

        });


    </script>

</head>
<body>
<div class="container">
    <div id="btn-start" class="btn btn-primary btn-lg">Start</div>
    <div id="btn-stop" class="btn btn-primary btn-lg">Stop</div>
</div>
<div class="container">
    <div class="row" id="block-container">
        <div class="col-md-2">
            <div>
                {@each _ as item}
                <div>$${item}</div>
                {@/each}
            </div>
        </div>
        <div class="col-md-10">
            <div>
                {@each _ as item}
                <div class="bg-red" easing="$${item}"></div>
                {@/each}
            </div>
        </div>
    </div>
</div>

</body>
</html>
